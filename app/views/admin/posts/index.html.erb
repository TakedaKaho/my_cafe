<div class="container">
  <div class="row justify-content-center">
    <div class="col-10">
      <% if flash[:post_destroy_notice].present? %>
       <div class="alert alert-danger">
       <%= flash[:post_destroy_notice] %>
       </div>
      <% end %>

      <div class="card">
        <div class="card-body">
          <div class="d-flex justify-content-end mb-3 mr-4">
            <%= link_to new_admin_post_path do %>
              <i class="fa-solid fa-plus fa-lg" style="color: #d0cac8;"></i><i class="fa-solid fa-mug-hot fa-xl" style="color: #bed0ef;"></i>
            <% end %>
          </div>

          <table class="table">
            <thead>
              <tr>
                <th>ID</th>
                <th>画像</th>
                <th>名前</th>
                <th>平均評価</th>
                <th>コメント数</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <% @posts.each do |post| %>
                <tr>
                  <td><%= post.id %></td>
                  <td>
                    <% if post.post_images.attached? %>
                      <%= image_tag url_for(post.post_images.first), class: "img-thumbnail", style: "width: 100px; height: 100px; object-fit: cover;" %>
                    <% else %>
                      No Image
                    <% end %>
                  </td>
                  <td><%= post.name %></td>
                  <td><i class="fa-solid fa-star" style="color: #FFD43B;"></i> <%= '%.1f' % post.average_star %>点</td>
                  <td><i class="fa-solid fa-comments" style="color: #5c615f;"></i> <%= post.comments_count %>件</td>
                  <td>
                    <%= link_to admin_post_path(post.id), class: "btn btn-sm btn-outline-secondary" do %>
                      詳細へ
                    <% end %>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>

        </div>
      </div>
    </div>
  </div>
</div>
<div class="pagination justify-content-center">
  <%= paginate @posts %>
</div>
